#+title: Restic Refactor

Awhile ago I setup restic backups on my NAS that is running NixOS. I was backing them up to a B2 bucket, but they've changed their pricing model, and I started using R2 because of k8s@home. I also was using a file moved over through synchthing across computers, and I wanted to switch over to use age and agenix.

Mainly followed the lovely guide at https://www.arthurkoziel.com/restic-backups-b2-nixos and picked up a few things as I refactored some of my code.

Instead of desktop notifications, I've always opted to use [[https://healthchecks.io/][Healthchecks.io]], since my NAS doesn't have a screen and I can't be bothered to astral project[fn:1] into it often enough to know if a critical backup has died

* Footnotes

[fn:1] [[https://archive.org/details/internetguidefor00dern][The image is from page 248 of The internet guide for new users. 1993 by Daniel P. Dern.]]
[fn:2] [[https://jnsgr.uk/2024/03/a-homelab-dashboard-for-nixos/][Post that led me to BorgBase]]
