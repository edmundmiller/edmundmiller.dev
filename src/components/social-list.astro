---
import { Icon } from 'astro-icon/components';

/** 
	Uses https://www.astroicon.dev/getting-started/
	Find icons via guide: https://www.astroicon.dev/guides/customization/#open-source-icon-sets
	Only installed pack is: @iconify-json/mdi
*/
const _socialLinks: {
  friendlyName: string;
  isWebmention?: boolean;
  link: string;
  name: string;
}[] = [
  {
    friendlyName: 'GitHub',
    link: 'https://github.com/edmundmiller',
    name: 'mdi:github',
    isWebmention: true,
  },
  {
    friendlyName: 'Mastodon',
    link: 'https://genomic.social/@emiller',
    name: 'mdi:mastodon',
    isWebmention: true,
  },
  {
    friendlyName: 'Matrix',
    link: 'https://matrix.to/#/@emiller:beeper.com',
    name: 'mdi:matrix',
    // TODO "simple-icons:matrix",
  },
  {
    friendlyName: 'Discord',
    link: 'https://discordapp.com/users/EdmundM',
    name: 'mdi:discord',
  },
  {
    name: 'mdi:email',
    friendlyName: 'email',
    link: 'mailto:hello@edmundmiller.dev',
    isWebmention: true,
  },
  // TODO
  // {
  // 	friendlyName: "Bluesky",
  // 	link: "https://bsky.app/profile/edmundmiller.dev",
  // 	name: "ri:bluesky-line",
  //    isWebmention: true
  // },
];
---

<div class="flex flex-wrap items-end gap-x-2">
  <p>Find me on</p>
  <ul class="flex flex-1 items-center gap-x-2 sm:flex-initial">
    {
      _socialLinks.map(({ friendlyName, isWebmention, link, name }) => (
        <li class="flex">
          <a
            class="inline-flex rounded-md p-1 text-textColor transition-colors duration-200 hover:text-link focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/60"
            href={link}
            rel={`noopener noreferrer ${isWebmention ? "me authn" : ""}`}
            target="_blank"
          >
            <Icon aria-hidden="true" class="h-7 w-7" focusable="false" name={name} />
            <span class="sr-only">{friendlyName}</span>
          </a>
        </li>
      ))
    }
  </ul>
</div>
